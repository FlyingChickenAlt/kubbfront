{"remainingRequest":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js??ref--1-1!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/layouts/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/layouts/Main.vue","mtime":1613746658826},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nexport default {\n  mounted: function mounted() {\n    if (typeof window !== \"undefined\") {\n      window.$ = require(\"jquery\");\n\n      require(\"bootstrap\");\n\n      var user = localStorage.getItem(\"user\");\n      var tokenJSON = JSON.parse(user);\n\n      var deleteAllSubs = function deleteAllSubs() {\n        var resp = prompt(\"Are You Sure? Type yes to continue\");\n        var token = JSON.parse(localStorage.getItem(\"user\"));\n\n        if (resp.toLowerCase() === \"yes\") {\n          var myHeaders = new Headers();\n          myHeaders.append(\"Authorization\", \"Bearer \".concat(token.accessToken));\n          var requestOptions = {\n            method: \"DELETE\",\n            headers: myHeaders,\n            redirect: \"follow\"\n          };\n          fetch(\"https://kubb.in:8080/api/subscriptions/\", requestOptions).then(function (response) {\n            return response.text();\n          }).then(function (result) {\n            return window.location.reload();\n          })[\"catch\"](function (error) {\n            return console.log(\"error\", error);\n          });\n        }\n      };\n    }\n  },\n  methods: {\n    deleteAllSubs: function deleteAllSubs() {\n      if (typeof window !== 'undefined') {\n        console.log('ping');\n      }\n    },\n    logout: function logout() {\n      localStorage.removeItem(\"user\");\n      window.location.href = \"/login\";\n    }\n  }\n};\n\nif (typeof window !== \"undefined\") {\n  var user = localStorage.getItem(\"user\");\n  var tokenJSON = JSON.parse(user);\n}",{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA,OAAA,sCAAA;AACA,eAAA;AACA,EAAA,OADA,qBACA;AACA,QAAA,OAAA,MAAA,gBAAA,EAAA;AACA,MAAA,MAAA,CAAA,CAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,MAAA,OAAA,CAAA,WAAA,CAAA;;AACA,UAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,UAAA,SAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA;;AACA,UAAA,aAAA,GAAA,SAAA,aAAA,GAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,oCAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;;AACA,YAAA,IAAA,CAAA,WAAA,OAAA,KAAA,EAAA;AACA,cAAA,SAAA,GAAA,IAAA,OAAA,EAAA;AACA,UAAA,SAAA,CAAA,MAAA,CAAA,eAAA,mBAAA,KAAA,CAAA,WAAA;AAEA,cAAA,cAAA,GAAA;AACA,YAAA,MAAA,EAAA,QADA;AAEA,YAAA,OAAA,EAAA,SAFA;AAGA,YAAA,QAAA,EAAA;AAHA,WAAA;AAMA,UAAA,KAAA,CAAA,yCAAA,EAAA,cAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA;AAAA,mBAAA,QAAA,CAAA,IAAA,EAAA;AAAA,WADA,EAEA,IAFA,CAEA,UAAA,MAAA;AAAA,mBAAA,MAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AAAA,WAFA,WAGA,UAAA,KAAA;AAAA,mBAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA,CAAA;AAAA,WAHA;AAIA;AACA,OAlBA;AAqBA;AACA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,yBAAA;AACA,UAAA,OAAA,MAAA,KAAA,WAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA;AACA,KALA;AAMA,IAAA,MAAA,EAAA,kBAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,MAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,QAAA;AACA;AATA;AA9BA,CAAA;;AA2CA,IAAA,OAAA,MAAA,gBAAA,EAAA;AACA,MAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,MAAA,SAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA","sourcesContent":["<template>\n  <body>\n    <link rel=\"stylesheet\" href=\"main.css\" />\n\n    <nav\n      class=\"navbar navbar-expand-lg navbar-light bg-*\"\n      style=\"background-color: #defcf9\"\n    >\n      <a class=\"navbar-brand\" href=\"/\">\n        <img class=\"mr-3\" src=\"photo.png\" alt=\"\" width=\"48\" height=\"48\" />\n      </a>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav mr-auto\">\n          <li class=\"nav-item active\">\n            <a class=\"nav-link\" href=\"/main\"\n              >Home <span class=\"sr-only\">(current)</span></a\n            >\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" @click=\"logout()\" href=\"#\">Log out</a>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a\n              class=\"nav-link dropdown-toggle\"\n              href=\"#\"\n              id=\"navbarDropdown\"\n              role=\"button\"\n              data-toggle=\"dropdown\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              Subscription actions\n            </a>\n            <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n              <a class=\"dropdown-item\" href=\"/add\">Add a new Subscription</a>\n              <a class=\"dropdown-item\" @click=\"deleteAllSubs()\"\n                >Delete all Subscriptions</a\n              >\n              <div class=\"dropdown-divider\"></div>\n              <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n            </div>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link disabled\" href=\"#\">Alpha Version</a>\n          </li>\n        </ul>\n        <form class=\"form-inline my-2 my-lg-0\">\n          <input\n            class=\"form-control mr-sm-2\"\n            type=\"search\"\n            placeholder=\"Search\"\n            aria-label=\"Search\"\n          />\n          <button class=\"btn btn-secondary my-2 my-sm-0\" type=\"submit\">\n            Search\n          </button>\n        </form>\n      </div>\n    </nav>\n    <main role=\"main\" class=\"container\">\n      <div class=\"logo-box p-3 my-3 rounded box-shadow\">\n        <div class=\"lh-100\">\n          <h6 class=\"mb-0 text-black lh-100\">Kubb.in</h6>\n          <small>Saving you time and money since 2021</small>\n        </div>\n      </div>\n      <slot />\n    </main>\n  </body>\n</template>\n<script>\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nexport default {\n  mounted() {\n    if (typeof window !== `undefined`) {\n      window.$ = require(\"jquery\");\n      require(\"bootstrap\");\n      const user = localStorage.getItem(\"user\");\n      const tokenJSON = JSON.parse(user);\n      const deleteAllSubs = () => {\n        let resp = prompt(\"Are You Sure? Type yes to continue\");\n        let token = JSON.parse(localStorage.getItem(\"user\"));\n        if (resp.toLowerCase() === \"yes\") {\n          var myHeaders = new Headers();\n          myHeaders.append(\"Authorization\", `Bearer ${token.accessToken}`);\n\n          var requestOptions = {\n            method: \"DELETE\",\n            headers: myHeaders,\n            redirect: \"follow\",\n          };\n\n          fetch(\"https://kubb.in:8080/api/subscriptions/\", requestOptions)\n            .then((response) => response.text())\n            .then((result) => window.location.reload())\n            .catch((error) => console.log(\"error\", error));\n        }\n      };\n      \n    \n    }\n  },\n  methods: {\n    deleteAllSubs: () => {\n      if(typeof window !== 'undefined'){\n        console.log('ping')\n      }      \n    },\n    logout: () => {\n      localStorage.removeItem(\"user\");\n      window.location.href = \"/login\";\n    },\n  },\n};\n\nif (typeof window !== `undefined`) {\n  const user = localStorage.getItem(\"user\");\n  const tokenJSON = JSON.parse(user);\n}\n</script>\n<style>\n</style>\n"],"sourceRoot":"src/layouts"}]}