{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{VVgq:function(e,t,a){\"use strict\";a.r(t);a(\"QWBl\"),a(\"sMBO\"),a(\"07d7\"),a(\"rB9j\"),a(\"EnZy\"),a(\"mRH6\"),a(\"FZtP\"),a(\"R5XZ\");var n=a(\"rePB\"),o=a(\"jjHS\"),r=Object(n.a)({metaInfo:{title:\"Add a new Subscription\"},components:{Layout:o.default},data:function(){return{user:localStorage.getItem(\"user\"),tokenJSON:JSON.parse(l),subname:\"\",autorenewal:\"\",currency:\"\",price:\"\",nextrenewal:\"\",site:\"\",regularity:\"\"}},methods:{sendRequestAddNewSubscription:function(){u(i.accessToken,this.getFormObj())},getFormObj:function(){return{name:this.subname,autorenewal:this.autorenewal,currency:this.currency,price:this.price,nextrenewal:this.nextrenewal,site:this.site,regularity:this.regularity}}},created:function(){console.log(this),null!=i&&s(i.accessToken)}},\"metaInfo\",{title:\"About us\"});window.addEventListener(\"load\",(function(){null!=i&&null!=i||(window.location.href=\"/login\")}));var l=localStorage.getItem(\"user\"),i=JSON.parse(l),s=function(e){var t=new Headers;t.append(\"Authorization\",\"Bearer \".concat(e)),fetch(\"https://kubb.in:8080/api/subscriptions/\",{method:\"GET\",headers:t,redirect:\"follow\"}).then((function(e){return e.json()})).then((function(e){return function(e){var t,a,n,o,r,l,i,s,u=document.getElementById(\"table-data\");document.getElementById(\"header-table\");e.forEach((function(e){t=document.createElement(\"tr\"),(a=document.createElement(\"td\")).setAttribute(\"data-label\",\"Auto Renewal\"),(n=document.createElement(\"td\")).setAttribute(\"data-label\",\"Currency\"),(o=document.createElement(\"td\")).setAttribute(\"data-label\",\"Website\"),(r=document.createElement(\"td\")).setAttribute(\"scope\",\"row\"),r.setAttribute(\"data-label\",\"Name\"),(l=document.createElement(\"td\")).setAttribute(\"data-label\",\"Next Renewal\"),(i=document.createElement(\"td\")).setAttribute(\"data-label\",\"Price\"),(s=document.createElement(\"td\")).setAttribute(\"data-label\",\"Regularity\"),r.innerText=e.name,o.innerText=e.link,i.innerText=e.price,n.innerText=e.currency,s.innerText=e.regularity,l.innerText=e.nextRenewal.split(\"T\")[0],a.innerText=\"true\"===e.autoRenewal?\"Yes\":\"No\",t.append(r,o,i,n,s,l,a),u.appendChild(t)}))}(e)})).catch((function(e){return console.log(\"error\",e)}))},u=(document.getElementById(\"submitBtn\"),function(e,t){if(p(t)){var a=new Headers;a.append(\"Authorization\",\"Bearer \".concat(e)),a.append(\"Content-Type\",\"application/json\");var n=JSON.stringify({autoRenewal:\"\".concat(t.autorenewal),currency:\"\".concat(t.currency),link:\"\".concat(t.site),name:\"\".concat(t.name),nextRenewal:\"\".concat(t.nextrenewal),price:\"\".concat(t.price),regularity:\"\".concat(t.regularity)});fetch(\"https://kubb.in:8080/api/subscription/\",{method:\"PUT\",headers:a,body:n,redirect:\"follow\"}).then((function(e){return e.text()})).then((function(e){return window.location.reload()})).catch((function(e){return console.log(\"error\",e)}))}}),c=function(e){var t=e.parentElement,a=document.createElement(\"div\");a.innerText=\"Wrong input, please introduce valid data\",a.className=\"alert alert-danger fade show\",t.insertBefore(a,e.parentElement.children[0]),console.log(a),setTimeout(d,2500)},d=function(){document.getElementsByClassName(\"alert\")[0].remove()},p=function(e){return\"\"==e.name||null==e.name||null==e.name?(c(document.getElementById(\"name\")),!1):\"\"==e.site||null==e.site||null==e.site?(c(document.getElementById(\"site\")),!1):1!=/[0-9]{1,}/.test(e.price)||null==e.price||null==e.price?(c(price),!1):\"\"==e.currency||null==e.currency||null==e.currency?(c(currency),!1):\"\"==e.regularity||null==e.regularity||null==e.regularity?(c(regularity),!1):(console.log(e.autorenewal),(\"true\"==e.autorenewal||\"false\"==e.autorenewal)&&null!=e.autorenewal&&null!=e.autorenewal||(c(autorenewal),!1))},m=r,v=a(\"KHd+\"),b=Object(v.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"Layout\",[a(\"div\",{staticClass:\"my-3 p-3 bg-white rounded box-shadow\"},[a(\"h2\",{staticClass:\"titleAdd\"},[e._v(\"Add a new Subscription\")]),a(\"form\",{attrs:{id:\"newsub\"}},[a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"name\"}},[e._v(\"Name\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.subname,expression:\"subname\"}],attrs:{type:\"text\",name:\"name\",id:\"name\"},domProps:{value:e.subname},on:{input:function(t){t.target.composing||(e.subname=t.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"site\"}},[e._v(\"Website\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.site,expression:\"site\"}],attrs:{type:\"text\",name:\"site\",id:\"site\"},domProps:{value:e.site},on:{input:function(t){t.target.composing||(e.site=t.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"price\"}},[e._v(\"Price\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.price,expression:\"price\"}],attrs:{type:\"text\",name:\"price\",id:\"price\"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"currency\"}},[e._v(\"Currency\")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.currency,expression:\"currency\"}],attrs:{id:\"currency\"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.currency=t.target.multiple?a:a[0]}}},[a(\"option\",{attrs:{value:\"AED\"}},[e._v(\"AED\")]),a(\"option\",{attrs:{value:\"ARS\"}},[e._v(\"ARS\")]),a(\"option\",{attrs:{value:\"AUD\"}},[e._v(\"AUD\")]),a(\"option\",{attrs:{value:\"BGN\"}},[e._v(\"BGN\")]),a(\"option\",{attrs:{value:\"BRL\"}},[e._v(\"BRL\")]),a(\"option\",{attrs:{value:\"BSD\"}},[e._v(\"BSD\")]),a(\"option\",{attrs:{value:\"CAD\"}},[e._v(\"CAD\")]),a(\"option\",{attrs:{value:\"CHF\"}},[e._v(\"CHF\")]),a(\"option\",{attrs:{value:\"CLP\"}},[e._v(\"CLP\")]),a(\"option\",{attrs:{value:\"CNY\"}},[e._v(\"CNY\")]),a(\"option\",{attrs:{value:\"COP\"}},[e._v(\"COP\")]),a(\"option\",{attrs:{value:\"CZK\"}},[e._v(\"CZK\")]),a(\"option\",{attrs:{value:\"DKK\"}},[e._v(\"DKK\")]),a(\"option\",{attrs:{value:\"DOP\"}},[e._v(\"DOP\")]),a(\"option\",{attrs:{value:\"EGP\"}},[e._v(\"EGP\")]),a(\"option\",{attrs:{value:\"EUR\"}},[e._v(\"EUR\")]),a(\"option\",{attrs:{value:\"FJD\"}},[e._v(\"FJD\")]),a(\"option\",{attrs:{value:\"GBP\"}},[e._v(\"GBP\")]),a(\"option\",{attrs:{value:\"GTQ\"}},[e._v(\"GTQ\")]),a(\"option\",{attrs:{value:\"HKD\"}},[e._v(\"HKD\")]),a(\"option\",{attrs:{value:\"HRK\"}},[e._v(\"HRK\")]),a(\"option\",{attrs:{value:\"HUF\"}},[e._v(\"HUF\")]),a(\"option\",{attrs:{value:\"IDR\"}},[e._v(\"IDR\")]),a(\"option\",{attrs:{value:\"ILS\"}},[e._v(\"ILS\")]),a(\"option\",{attrs:{value:\"INR\"}},[e._v(\"INR\")]),a(\"option\",{attrs:{value:\"ISK\"}},[e._v(\"ISK\")]),a(\"option\",{attrs:{value:\"JPY\"}},[e._v(\"JPY\")]),a(\"option\",{attrs:{value:\"KRW\"}},[e._v(\"KRW\")]),a(\"option\",{attrs:{value:\"KZT\"}},[e._v(\"KZT\")]),a(\"option\",{attrs:{value:\"MXN\"}},[e._v(\"MXN\")]),a(\"option\",{attrs:{value:\"MYR\"}},[e._v(\"MYR\")]),a(\"option\",{attrs:{value:\"NOK\"}},[e._v(\"NOK\")]),a(\"option\",{attrs:{value:\"NZD\"}},[e._v(\"NZD\")]),a(\"option\",{attrs:{value:\"PAB\"}},[e._v(\"PAB\")]),a(\"option\",{attrs:{value:\"PEN\"}},[e._v(\"PEN\")]),a(\"option\",{attrs:{value:\"PHP\"}},[e._v(\"PHP\")]),a(\"option\",{attrs:{value:\"PKR\"}},[e._v(\"PKR\")]),a(\"option\",{attrs:{value:\"PLN\"}},[e._v(\"PLN\")]),a(\"option\",{attrs:{value:\"PYG\"}},[e._v(\"PYG\")]),a(\"option\",{attrs:{value:\"RON\"}},[e._v(\"RON\")]),a(\"option\",{attrs:{value:\"RUB\"}},[e._v(\"RUB\")]),a(\"option\",{attrs:{value:\"SAR\"}},[e._v(\"SAR\")]),a(\"option\",{attrs:{value:\"SEK\"}},[e._v(\"SEK\")]),a(\"option\",{attrs:{value:\"SGD\"}},[e._v(\"SGD\")]),a(\"option\",{attrs:{value:\"THB\"}},[e._v(\"THB\")]),a(\"option\",{attrs:{value:\"TRY\"}},[e._v(\"TRY\")]),a(\"option\",{attrs:{value:\"TWD\"}},[e._v(\"TWD\")]),a(\"option\",{attrs:{value:\"UAH\"}},[e._v(\"UAH\")]),a(\"option\",{attrs:{value:\"USD\",selected:\"\"}},[e._v(\"USD\")]),a(\"option\",{attrs:{value:\"UYU\"}},[e._v(\"UYU\")]),a(\"option\",{attrs:{value:\"VND\"}},[e._v(\"VND\")]),a(\"option\",{attrs:{value:\"ZAR\"}},[e._v(\"ZAR\")])])]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"regularity\"}},[e._v(\"Regularity\")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.regularity,expression:\"regularity\"}],attrs:{id:\"regularity\"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.regularity=t.target.multiple?a:a[0]}}},[a(\"option\",[e._v(\"Daily\")]),a(\"option\",[e._v(\"Weekly\")]),a(\"option\",[e._v(\"Monthly\")]),a(\"option\",[e._v(\"Yearly\")]),a(\"option\",[e._v(\"Other...\")])])]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"renewal\"}},[e._v(\"Date of next Renewal\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.nextrenewal,expression:\"nextrenewal\"}],attrs:{type:\"date\",name:\"renewal\",id:\"renewal\"},domProps:{value:e.nextrenewal},on:{input:function(t){t.target.composing||(e.nextrenewal=t.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"autorenewal\"}},[e._v(\"Auto Renewal?\")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.autorenewal,expression:\"autorenewal\"}],attrs:{id:\"autorenewal\"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return\"_value\"in e?e._value:e.value}));e.autorenewal=t.target.multiple?a:a[0]}}},[a(\"option\",{attrs:{value:\"true\"}},[e._v(\"Yes\")]),a(\"option\",{attrs:{value:\"false\"}},[e._v(\"No\")])])])])]),a(\"button\",{staticClass:\"btn btn-secondary btn-lg\",attrs:{type:\"button\",id:\"submitBtn\"},on:{click:function(t){return e.sendRequestAddNewSubscription()}}},[e._v(\"\\n    Add\\n  \")]),a(\"div\",{staticClass:\"my-3 p-3 bg-white rounded box-shadow\"},[a(\"h2\",{staticClass:\"titleAdd\"},[e._v(\"Your subscriptions\")]),a(\"table\",{staticClass:\"table table-light table-responsive\"},[a(\"thead\",[a(\"tr\",[a(\"th\",{attrs:{scope:\"col\"}},[e._v(\"Name\")]),a(\"th\",{attrs:{scope:\"col\"}},[e._v(\"Website\")]),a(\"th\",{attrs:{scope:\"col\"}},[e._v(\"Price\")]),a(\"th\",{attrs:{scope:\"col\"}},[e._v(\"Currency\")]),a(\"th\",{attrs:{scope:\"col\"}},[e._v(\"Regularity\")]),a(\"th\",{attrs:{scope:\"col\"}},[e._v(\"Next Renewal\")]),a(\"th\",{attrs:{scope:\"col\"}},[e._v(\"Auto Renewal\")])])]),a(\"tbody\",{attrs:{id:\"table-data\"}})])])])}),[],!1,null,null,null);t.default=b.exports},ZNii:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return n})),a.d(t,\"b\",(function(){return o}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"body\",[a(\"link\",{attrs:{rel:\"stylesheet\",href:\"main.css\"}}),a(\"nav\",{staticClass:\"navbar navbar-expand-lg navbar-light bg-*\",staticStyle:{\"background-color\":\"#defcf9\"}},[e._m(0),e._m(1),a(\"div\",{staticClass:\"collapse navbar-collapse\",attrs:{id:\"navbarSupportedContent\"}},[a(\"ul\",{staticClass:\"navbar-nav mr-auto\"},[e._m(2),a(\"li\",{staticClass:\"nav-item\"},[a(\"a\",{staticClass:\"nav-link\",attrs:{href:\"#\"},on:{click:function(t){return e.logout()}}},[e._v(\"Log out\")])]),a(\"li\",{staticClass:\"nav-item dropdown\"},[a(\"a\",{staticClass:\"nav-link dropdown-toggle\",attrs:{href:\"#\",id:\"navbarDropdown\",role:\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[e._v(\"\\n            Subscription actions\\n          \")]),a(\"div\",{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":\"navbarDropdown\"}},[a(\"a\",{staticClass:\"dropdown-item\",attrs:{href:\"/add\"}},[e._v(\"Add a new Subscription\")]),a(\"a\",{staticClass:\"dropdown-item\",on:{click:function(t){return e.deleteAllSubs()}}},[e._v(\"Delete all Subscriptions\")]),a(\"div\",{staticClass:\"dropdown-divider\"}),a(\"a\",{staticClass:\"dropdown-item\",attrs:{href:\"#\"}},[e._v(\"Something else here\")])])]),e._m(3)]),e._m(4)])]),a(\"main\",{staticClass:\"container\",attrs:{role:\"main\"}},[e._m(5),e._t(\"default\")],2)])},o=[function(){var e=this.$createElement,t=this._self._c||e;return t(\"a\",{staticClass:\"navbar-brand\",attrs:{href:\"/\"}},[t(\"img\",{staticClass:\"mr-3\",attrs:{src:\"photo.png\",alt:\"\",width:\"48\",height:\"48\"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"button\",{staticClass:\"navbar-toggler\",attrs:{type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"}},[t(\"span\",{staticClass:\"navbar-toggler-icon\"})])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"li\",{staticClass:\"nav-item active\"},[t(\"a\",{staticClass:\"nav-link\",attrs:{href:\"/main\"}},[this._v(\"Home \"),t(\"span\",{staticClass:\"sr-only\"},[this._v(\"(current)\")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"li\",{staticClass:\"nav-item\"},[t(\"a\",{staticClass:\"nav-link disabled\",attrs:{href:\"#\"}},[this._v(\"Alpha Version\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"form\",{staticClass:\"form-inline my-2 my-lg-0\"},[t(\"input\",{staticClass:\"form-control mr-sm-2\",attrs:{type:\"search\",placeholder:\"Search\",\"aria-label\":\"Search\"}}),t(\"button\",{staticClass:\"btn btn-secondary my-2 my-sm-0\",attrs:{type:\"submit\"}},[this._v(\"\\n          Search\\n        \")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"logo-box p-3 my-3 rounded box-shadow\"},[t(\"div\",{staticClass:\"lh-100\"},[t(\"h6\",{staticClass:\"mb-0 text-black lh-100\"},[this._v(\"Kubb.in\")]),t(\"small\",[this._v(\"Saving you time and money since 2021\")])])])}]},jjHS:function(e,t,a){\"use strict\";var n=a(\"ZNii\"),o=a(\"z9gw\"),r=a(\"KHd+\"),l=Object(r.a)(o.default,n.a,n.b,!1,null,null,null);t.default=l.exports},z9gw:function(e,t,a){\"use strict\";var n=a(\"zskk\"),o=a.n(n);t.default=o.a},zskk:function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /home/plpetkov/Development/kubb.in/kubb.in-frontend/src/layouts/Main.vue: 'import' and 'export' may only appear at the top level (90:4)\\n\\n\u001b[0m \u001b[90m 88 |\u001b[39m           \u001b[36mif\u001b[39m (\u001b[36mtypeof\u001b[39m window \u001b[33m!==\u001b[39m \u001b[32m`undefined`\u001b[39m) {\u001b[0m\\n\u001b[0m \u001b[90m 89 |\u001b[39m     window\u001b[33m.\u001b[39m$ \u001b[33m=\u001b[39m require(\u001b[32m\\\"jquery\\\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m     \u001b[36mimport\u001b[39m $ \u001b[36mfrom\u001b[39m \u001b[32m'jquery'\u001b[39m\u001b[33m;\u001b[39m \u001b[0m\\n\u001b[0m \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 91 |\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 92 |\u001b[39m     }\u001b[0m\\n\u001b[0m \u001b[90m 93 |\u001b[39m\u001b[0m\\n    at Object._raise (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:776:17)\\n    at Object.raiseWithData (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:769:17)\\n    at Object.raise (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:737:17)\\n    at Object.parseStatementContent (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:11939:18)\\n    at Object.parseStatement (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:11846:17)\\n    at Object.parseBlockOrModuleBlockBody (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:12428:25)\\n    at Object.parseBlockBody (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:12419:10)\\n    at Object.parseBlock (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:12403:10)\\n    at Object.parseStatementContent (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:11922:21)\\n    at Object.parseStatement (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:11846:17)\\n    at Object.parseIfStatement (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:12200:28)\\n    at Object.parseStatementContent (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:11891:21)\\n    at Object.parseStatement (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:11846:17)\\n    at Object.parseBlockOrModuleBlockBody (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:12428:25)\\n    at Object.parseBlockBody (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:12419:10)\\n    at Object.parseBlock (/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/@babel/parser/lib/index.js:12403:10)\")}}]);","extractedComments":[]}