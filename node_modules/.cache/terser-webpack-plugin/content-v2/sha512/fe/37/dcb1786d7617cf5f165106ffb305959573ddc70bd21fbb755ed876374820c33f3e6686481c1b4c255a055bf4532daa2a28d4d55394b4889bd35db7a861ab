{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{VVgq:function(t,e,a){\"use strict\";a.r(e);a(\"QWBl\"),a(\"sMBO\"),a(\"07d7\"),a(\"rB9j\"),a(\"EnZy\"),a(\"mRH6\"),a(\"FZtP\"),a(\"R5XZ\");var n=a(\"rePB\"),r=a(\"jjHS\"),o=Object(n.a)({metaInfo:{title:\"Add a new Subscription\"},components:{Layout:r.a},data:function(){return{subname:\"\",autorenewal:\"\",currency:\"\",price:\"\",nextrenewal:\"\",site:\"\",regularity:\"\"}},methods:{sendRequestAddNewSubscription:function(){\"undefined\"!=typeof window&&window.sendRequestAddNewSubscriptionf(JSON.parse(localStorage.getItem(\"user\")).accessToken,this.getFormObj())},getFormObj:function(){return{name:this.subname,autorenewal:this.autorenewal,currency:this.currency,price:this.price,nextrenewal:this.nextrenewal,site:this.site,regularity:this.regularity}}},mounted:function(){if(\"undefined\"!=typeof window){var t=localStorage.getItem(\"user\"),e=JSON.parse(t);window.addEventListener(\"load\",(function(){null!=e&&null!=e||(window.location.href=\"/login\")}));document.getElementById(\"submitBtn\");window.sendRequestAddNewSubscriptionf=function(t,e){if(r(e)){var a=new Headers;a.append(\"Authorization\",\"Bearer \".concat(t)),a.append(\"Content-Type\",\"application/json\");var n=JSON.stringify({autoRenewal:\"\".concat(e.autorenewal),currency:\"\".concat(e.currency),link:\"\".concat(e.site),name:\"\".concat(e.name),nextRenewal:\"\".concat(e.nextrenewal),price:\"\".concat(e.price),regularity:\"\".concat(e.regularity)});fetch(\"https://kubb.in:8080/api/subscription/\",{method:\"PUT\",headers:a,body:n,redirect:\"follow\"}).then((function(t){return t.text()})).then((function(t){return window.location.reload()})).catch((function(t){return console.log(\"error\",t)}))}};var a=function(t){var e=t.parentElement,a=document.createElement(\"div\");a.innerText=\"Wrong input, please introduce valid data\",a.className=\"alert alert-danger fade show\",e.insertBefore(a,t.parentElement.children[0]),setTimeout(n,2500)},n=function(){document.getElementsByClassName(\"alert\")[0].remove()},r=function(t){return\"\"==t.name||null==t.name||null==t.name?(a(document.getElementById(\"name\")),!1):\"\"==t.site||null==t.site||null==t.site?(a(document.getElementById(\"site\")),!1):1!=/[0-9]{1,}/.test(t.price)||null==t.price||null==t.price?(a(price),!1):\"\"==t.currency||null==t.currency||null==t.currency?(a(currency),!1):\"\"==t.regularity||null==t.regularity||null==t.regularity?(a(regularity),!1):(\"true\"==t.autorenewal||\"false\"==t.autorenewal)&&null!=t.autorenewal&&null!=t.autorenewal||(a(autorenewal),!1)};null!=e&&(o=e.accessToken,(i=new Headers).append(\"Authorization\",\"Bearer \".concat(o)),fetch(\"https://kubb.in:8080/api/subscriptions/\",{method:\"GET\",headers:i,redirect:\"follow\"}).then((function(t){return t.json()})).then((function(t){return e=t,c=document.getElementById(\"table-data\"),document.getElementById(\"header-table\"),void e.forEach((function(t){a=document.createElement(\"tr\"),(n=document.createElement(\"td\")).setAttribute(\"data-label\",\"Auto Renewal\"),(r=document.createElement(\"td\")).setAttribute(\"data-label\",\"Currency\"),(o=document.createElement(\"td\")).setAttribute(\"data-label\",\"Website\"),(i=document.createElement(\"td\")).setAttribute(\"scope\",\"row\"),i.setAttribute(\"data-label\",\"Name\"),(s=document.createElement(\"td\")).setAttribute(\"data-label\",\"Next Renewal\"),(l=document.createElement(\"td\")).setAttribute(\"data-label\",\"Price\"),(u=document.createElement(\"td\")).setAttribute(\"data-label\",\"Regularity\"),i.innerText=t.name,o.innerText=t.link,l.innerText=t.price,r.innerText=t.currency,u.innerText=t.regularity,s.innerText=t.nextRenewal.split(\"T\")[0],n.innerText=\"true\"===t.autoRenewal?\"Yes\":\"No\",a.append(i,o,l,r,u,s,n),c.appendChild(a)}));var e,a,n,r,o,i,s,l,u,c})).catch((function(t){return console.log(\"error\",t)})))}var o,i},created:function(){}},\"metaInfo\",{title:\"About us\"}),i=a(\"KHd+\"),s=Object(i.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"Layout\",[a(\"div\",{staticClass:\"my-3 p-3 bg-white rounded box-shadow\"},[a(\"h2\",{staticClass:\"titleAdd\"},[t._v(\"Add a new Subscription\")]),a(\"form\",{attrs:{id:\"newsub\"}},[a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"name\"}},[t._v(\"Name\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.subname,expression:\"subname\"}],attrs:{type:\"text\",name:\"name\",id:\"name\"},domProps:{value:t.subname},on:{input:function(e){e.target.composing||(t.subname=e.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"site\"}},[t._v(\"Website\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.site,expression:\"site\"}],attrs:{type:\"text\",name:\"site\",id:\"site\"},domProps:{value:t.site},on:{input:function(e){e.target.composing||(t.site=e.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"price\"}},[t._v(\"Price\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.price,expression:\"price\"}],attrs:{type:\"text\",name:\"price\",id:\"price\"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"currency\"}},[t._v(\"Currency\")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.currency,expression:\"currency\"}],attrs:{id:\"currency\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.currency=e.target.multiple?a:a[0]}}},[a(\"option\",{attrs:{value:\"AED\"}},[t._v(\"AED\")]),a(\"option\",{attrs:{value:\"ARS\"}},[t._v(\"ARS\")]),a(\"option\",{attrs:{value:\"AUD\"}},[t._v(\"AUD\")]),a(\"option\",{attrs:{value:\"BGN\"}},[t._v(\"BGN\")]),a(\"option\",{attrs:{value:\"BRL\"}},[t._v(\"BRL\")]),a(\"option\",{attrs:{value:\"BSD\"}},[t._v(\"BSD\")]),a(\"option\",{attrs:{value:\"CAD\"}},[t._v(\"CAD\")]),a(\"option\",{attrs:{value:\"CHF\"}},[t._v(\"CHF\")]),a(\"option\",{attrs:{value:\"CLP\"}},[t._v(\"CLP\")]),a(\"option\",{attrs:{value:\"CNY\"}},[t._v(\"CNY\")]),a(\"option\",{attrs:{value:\"COP\"}},[t._v(\"COP\")]),a(\"option\",{attrs:{value:\"CZK\"}},[t._v(\"CZK\")]),a(\"option\",{attrs:{value:\"DKK\"}},[t._v(\"DKK\")]),a(\"option\",{attrs:{value:\"DOP\"}},[t._v(\"DOP\")]),a(\"option\",{attrs:{value:\"EGP\"}},[t._v(\"EGP\")]),a(\"option\",{attrs:{value:\"EUR\"}},[t._v(\"EUR\")]),a(\"option\",{attrs:{value:\"FJD\"}},[t._v(\"FJD\")]),a(\"option\",{attrs:{value:\"GBP\"}},[t._v(\"GBP\")]),a(\"option\",{attrs:{value:\"GTQ\"}},[t._v(\"GTQ\")]),a(\"option\",{attrs:{value:\"HKD\"}},[t._v(\"HKD\")]),a(\"option\",{attrs:{value:\"HRK\"}},[t._v(\"HRK\")]),a(\"option\",{attrs:{value:\"HUF\"}},[t._v(\"HUF\")]),a(\"option\",{attrs:{value:\"IDR\"}},[t._v(\"IDR\")]),a(\"option\",{attrs:{value:\"ILS\"}},[t._v(\"ILS\")]),a(\"option\",{attrs:{value:\"INR\"}},[t._v(\"INR\")]),a(\"option\",{attrs:{value:\"ISK\"}},[t._v(\"ISK\")]),a(\"option\",{attrs:{value:\"JPY\"}},[t._v(\"JPY\")]),a(\"option\",{attrs:{value:\"KRW\"}},[t._v(\"KRW\")]),a(\"option\",{attrs:{value:\"KZT\"}},[t._v(\"KZT\")]),a(\"option\",{attrs:{value:\"MXN\"}},[t._v(\"MXN\")]),a(\"option\",{attrs:{value:\"MYR\"}},[t._v(\"MYR\")]),a(\"option\",{attrs:{value:\"NOK\"}},[t._v(\"NOK\")]),a(\"option\",{attrs:{value:\"NZD\"}},[t._v(\"NZD\")]),a(\"option\",{attrs:{value:\"PAB\"}},[t._v(\"PAB\")]),a(\"option\",{attrs:{value:\"PEN\"}},[t._v(\"PEN\")]),a(\"option\",{attrs:{value:\"PHP\"}},[t._v(\"PHP\")]),a(\"option\",{attrs:{value:\"PKR\"}},[t._v(\"PKR\")]),a(\"option\",{attrs:{value:\"PLN\"}},[t._v(\"PLN\")]),a(\"option\",{attrs:{value:\"PYG\"}},[t._v(\"PYG\")]),a(\"option\",{attrs:{value:\"RON\"}},[t._v(\"RON\")]),a(\"option\",{attrs:{value:\"RUB\"}},[t._v(\"RUB\")]),a(\"option\",{attrs:{value:\"SAR\"}},[t._v(\"SAR\")]),a(\"option\",{attrs:{value:\"SEK\"}},[t._v(\"SEK\")]),a(\"option\",{attrs:{value:\"SGD\"}},[t._v(\"SGD\")]),a(\"option\",{attrs:{value:\"THB\"}},[t._v(\"THB\")]),a(\"option\",{attrs:{value:\"TRY\"}},[t._v(\"TRY\")]),a(\"option\",{attrs:{value:\"TWD\"}},[t._v(\"TWD\")]),a(\"option\",{attrs:{value:\"UAH\"}},[t._v(\"UAH\")]),a(\"option\",{attrs:{value:\"USD\",selected:\"\"}},[t._v(\"USD\")]),a(\"option\",{attrs:{value:\"UYU\"}},[t._v(\"UYU\")]),a(\"option\",{attrs:{value:\"VND\"}},[t._v(\"VND\")]),a(\"option\",{attrs:{value:\"ZAR\"}},[t._v(\"ZAR\")])])]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"regularity\"}},[t._v(\"Regularity\")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.regularity,expression:\"regularity\"}],attrs:{id:\"regularity\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.regularity=e.target.multiple?a:a[0]}}},[a(\"option\",[t._v(\"Daily\")]),a(\"option\",[t._v(\"Weekly\")]),a(\"option\",[t._v(\"Monthly\")]),a(\"option\",[t._v(\"Yearly\")]),a(\"option\",[t._v(\"Other...\")])])]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"renewal\"}},[t._v(\"Date of next Renewal\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.nextrenewal,expression:\"nextrenewal\"}],attrs:{type:\"date\",name:\"renewal\",id:\"renewal\"},domProps:{value:t.nextrenewal},on:{input:function(e){e.target.composing||(t.nextrenewal=e.target.value)}}})]),a(\"div\",{staticClass:\"form-group rounded box-shadow\"},[a(\"label\",{attrs:{for:\"autorenewal\"}},[t._v(\"Auto Renewal?\")]),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.autorenewal,expression:\"autorenewal\"}],attrs:{id:\"autorenewal\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return\"_value\"in t?t._value:t.value}));t.autorenewal=e.target.multiple?a:a[0]}}},[a(\"option\",{attrs:{value:\"true\"}},[t._v(\"Yes\")]),a(\"option\",{attrs:{value:\"false\"}},[t._v(\"No\")])])])])]),a(\"button\",{staticClass:\"btn btn-secondary btn-lg\",attrs:{type:\"button\",id:\"submitBtn\"},on:{click:function(e){return t.sendRequestAddNewSubscription()}}},[t._v(\"\\n    Add\\n  \")]),a(\"div\",{staticClass:\"my-3 p-3 bg-white rounded box-shadow\"},[a(\"h2\",{staticClass:\"titleAdd\"},[t._v(\"Your subscriptions\")]),a(\"table\",{staticClass:\"table table-light table-responsive\"},[a(\"thead\",[a(\"tr\",[a(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Name\")]),a(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Website\")]),a(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Price\")]),a(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Currency\")]),a(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Regularity\")]),a(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Next Renewal\")]),a(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Auto Renewal\")])])]),a(\"tbody\",{attrs:{id:\"table-data\"}})])])])}),[],!1,null,null,null);e.default=s.exports},jjHS:function(t,e,a){\"use strict\";a(\"07d7\"),a(\"q4sD\");var n={mounted:function(){if(\"undefined\"!=typeof window){window.$=a(\"EVdn\"),a(\"SYky\");var t=localStorage.getItem(\"user\");JSON.parse(t)}},methods:{deleteAllSubs:function(){if(\"undefined\"!=typeof window){var t=prompt(\"Are You Sure? Type yes to continue\"),e=JSON.parse(localStorage.getItem(\"user\"));if(\"yes\"===t.toLowerCase()){var a=new Headers;a.append(\"Authorization\",\"Bearer \".concat(e.accessToken)),fetch(\"https://kubb.in:8080/api/subscriptions/\",{method:\"DELETE\",headers:a,redirect:\"follow\"}).then((function(t){return t.text()})).then((function(t){return window.location.reload()})).catch((function(t){return console.log(\"error\",t)}))}}},logout:function(){localStorage.removeItem(\"user\"),window.location.href=\"/login\"}}};if(\"undefined\"!=typeof window){var r=localStorage.getItem(\"user\");JSON.parse(r)}var o=n,i=a(\"KHd+\"),s=Object(i.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"body\",[a(\"link\",{attrs:{rel:\"stylesheet\",href:\"main.css\"}}),a(\"nav\",{staticClass:\"navbar navbar-expand-lg navbar-light bg-*\",staticStyle:{\"background-color\":\"#defcf9\"}},[t._m(0),t._m(1),a(\"div\",{staticClass:\"collapse navbar-collapse\",attrs:{id:\"navbarSupportedContent\"}},[a(\"ul\",{staticClass:\"navbar-nav mr-auto\"},[t._m(2),a(\"li\",{staticClass:\"nav-item\"},[a(\"a\",{staticClass:\"nav-link\",attrs:{href:\"#\"},on:{click:function(e){return t.logout()}}},[t._v(\"Log out\")])]),a(\"li\",{staticClass:\"nav-item dropdown\"},[a(\"a\",{staticClass:\"nav-link dropdown-toggle\",attrs:{href:\"#\",id:\"navbarDropdown\",role:\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[t._v(\"\\n            Subscription actions\\n          \")]),a(\"div\",{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":\"navbarDropdown\"}},[a(\"a\",{staticClass:\"dropdown-item\",attrs:{href:\"/add\"}},[t._v(\"Add a new Subscription\")]),a(\"a\",{staticClass:\"dropdown-item\",on:{click:function(e){return t.deleteAllSubs()}}},[t._v(\"Delete all Subscriptions\")]),a(\"div\",{staticClass:\"dropdown-divider\"}),a(\"a\",{staticClass:\"dropdown-item\",attrs:{href:\"#\"}},[t._v(\"Something else here\")])])]),t._m(3)]),t._m(4)])]),a(\"main\",{staticClass:\"container\",attrs:{role:\"main\"}},[t._m(5),t._t(\"default\")],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e(\"a\",{staticClass:\"navbar-brand\",attrs:{href:\"/\"}},[e(\"img\",{staticClass:\"mr-3\",attrs:{src:\"photo.png\",alt:\"\",width:\"48\",height:\"48\"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"button\",{staticClass:\"navbar-toggler\",attrs:{type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"}},[e(\"span\",{staticClass:\"navbar-toggler-icon\"})])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"li\",{staticClass:\"nav-item active\"},[e(\"a\",{staticClass:\"nav-link\",attrs:{href:\"/main\"}},[this._v(\"Home \"),e(\"span\",{staticClass:\"sr-only\"},[this._v(\"(current)\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"li\",{staticClass:\"nav-item\"},[e(\"a\",{staticClass:\"nav-link disabled\",attrs:{href:\"#\"}},[this._v(\"Alpha Version\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"form\",{staticClass:\"form-inline my-2 my-lg-0\"},[e(\"input\",{staticClass:\"form-control mr-sm-2\",attrs:{type:\"search\",placeholder:\"Search\",\"aria-label\":\"Search\"}}),e(\"button\",{staticClass:\"btn btn-secondary my-2 my-sm-0\",attrs:{type:\"submit\"}},[this._v(\"\\n          Search\\n        \")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"logo-box p-3 my-3 rounded box-shadow\"},[e(\"div\",{staticClass:\"lh-100\"},[e(\"h6\",{staticClass:\"mb-0 text-black lh-100\"},[this._v(\"Kubb.in\")]),e(\"small\",[this._v(\"Saving you time and money since 2021\")])])])}],!1,null,null,null);e.a=s.exports}}]);","extractedComments":[]}