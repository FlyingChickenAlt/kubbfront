{"remainingRequest":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js??ref--1-1!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/layouts/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/layouts/Main.vue","mtime":1613746729344},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nexport default {\n  mounted: function mounted() {\n    if (typeof window !== \"undefined\") {\n      window.$ = require(\"jquery\");\n\n      require(\"bootstrap\");\n\n      var user = localStorage.getItem(\"user\");\n      var tokenJSON = JSON.parse(user);\n    }\n  },\n  methods: {\n    deleteAllSubs: function deleteAllSubs() {\n      if (typeof window !== 'undefined') {\n        var resp = prompt(\"Are You Sure? Type yes to continue\");\n        var token = JSON.parse(localStorage.getItem(\"user\"));\n\n        if (resp.toLowerCase() === \"yes\") {\n          var myHeaders = new Headers();\n          myHeaders.append(\"Authorization\", \"Bearer \".concat(token.accessToken));\n          var requestOptions = {\n            method: \"DELETE\",\n            headers: myHeaders,\n            redirect: \"follow\"\n          };\n          fetch(\"https://kubb.in:8080/api/subscriptions/\", requestOptions).then(function (response) {\n            return response.text();\n          }).then(function (result) {\n            return window.location.reload();\n          })[\"catch\"](function (error) {\n            return console.log(\"error\", error);\n          });\n        }\n      }\n    },\n    logout: function logout() {\n      localStorage.removeItem(\"user\");\n      window.location.href = \"/login\";\n    }\n  }\n};\n\nif (typeof window !== \"undefined\") {\n  var user = localStorage.getItem(\"user\");\n  var tokenJSON = JSON.parse(user);\n}",{"version":3,"sources":["/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/layouts/Main.vue"],"names":["mounted","window","$","require","user","localStorage","getItem","tokenJSON","JSON","parse","methods","deleteAllSubs","resp","prompt","token","toLowerCase","myHeaders","Headers","append","accessToken","requestOptions","method","headers","redirect","fetch","then","response","text","result","location","reload","error","console","log","logout","removeItem","href"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAO,sCAAP;AACA,eAAe;AACbA,EAAAA,OADa,qBACH;AACR,QAAI,OAAOC,MAAP,gBAAJ,EAAmC;AACjCA,MAAAA,MAAM,CAACC,CAAP,GAAWC,OAAO,CAAC,QAAD,CAAlB;;AACAA,MAAAA,OAAO,CAAC,WAAD,CAAP;;AACA,UAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;AACA,UAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAlB;AAGD;AACF,GAVY;AAWbM,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAE,yBAAM;AACnB,UAAG,OAAOV,MAAP,KAAkB,WAArB,EAAiC;AAC/B,YAAIW,IAAI,GAAGC,MAAM,CAAC,oCAAD,CAAjB;AACA,YAAIC,KAAK,GAAGN,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAZ;;AACA,YAAIM,IAAI,CAACG,WAAL,OAAuB,KAA3B,EAAkC;AAChC,cAAIC,SAAS,GAAG,IAAIC,OAAJ,EAAhB;AACAD,UAAAA,SAAS,CAACE,MAAV,CAAiB,eAAjB,mBAA4CJ,KAAK,CAACK,WAAlD;AAEA,cAAIC,cAAc,GAAG;AACnBC,YAAAA,MAAM,EAAE,QADW;AAEnBC,YAAAA,OAAO,EAAEN,SAFU;AAGnBO,YAAAA,QAAQ,EAAE;AAHS,WAArB;AAMAC,UAAAA,KAAK,CAAC,yCAAD,EAA4CJ,cAA5C,CAAL,CACGK,IADH,CACQ,UAACC,QAAD;AAAA,mBAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,WADR,EAEGF,IAFH,CAEQ,UAACG,MAAD;AAAA,mBAAY3B,MAAM,CAAC4B,QAAP,CAAgBC,MAAhB,EAAZ;AAAA,WAFR,WAGS,UAACC,KAAD;AAAA,mBAAWC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB,CAAX;AAAA,WAHT;AAID;AACF;AACF,KArBM;AAsBPG,IAAAA,MAAM,EAAE,kBAAM;AACZ7B,MAAAA,YAAY,CAAC8B,UAAb,CAAwB,MAAxB;AACAlC,MAAAA,MAAM,CAAC4B,QAAP,CAAgBO,IAAhB,GAAuB,QAAvB;AACD;AAzBM;AAXI,CAAf;;AAwCA,IAAI,OAAOnC,MAAP,gBAAJ,EAAmC;AACjC,MAAMG,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;AACA,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAlB;AACD","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nexport default {\n  mounted() {\n    if (typeof window !== `undefined`) {\n      window.$ = require(\"jquery\");\n      require(\"bootstrap\");\n      const user = localStorage.getItem(\"user\");\n      const tokenJSON = JSON.parse(user);\n      \n    \n    }\n  },\n  methods: {\n    deleteAllSubs: () => {\n      if(typeof window !== 'undefined'){\n        let resp = prompt(\"Are You Sure? Type yes to continue\");\n        let token = JSON.parse(localStorage.getItem(\"user\"));\n        if (resp.toLowerCase() === \"yes\") {\n          var myHeaders = new Headers();\n          myHeaders.append(\"Authorization\", `Bearer ${token.accessToken}`);\n\n          var requestOptions = {\n            method: \"DELETE\",\n            headers: myHeaders,\n            redirect: \"follow\",\n          };\n\n          fetch(\"https://kubb.in:8080/api/subscriptions/\", requestOptions)\n            .then((response) => response.text())\n            .then((result) => window.location.reload())\n            .catch((error) => console.log(\"error\", error));\n        }\n      }      \n    },\n    logout: () => {\n      localStorage.removeItem(\"user\");\n      window.location.href = \"/login\";\n    },\n  },\n};\n\nif (typeof window !== `undefined`) {\n  const user = localStorage.getItem(\"user\");\n  const tokenJSON = JSON.parse(user);\n}\n"]}]}