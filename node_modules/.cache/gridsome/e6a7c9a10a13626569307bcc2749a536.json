{"remainingRequest":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js??ref--1-1!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/pages/Login.vue","mtime":1613745865500},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  metaInfo: {\n    title: \"Login Page\"\n  },\n  data: function data() {\n    return {\n      username: \"\",\n      password: \"\",\n      hidePassword: true,\n      jsonRequest: {}\n    };\n  },\n  mounted: function mounted() {\n    if (typeof window !== \"undefined\") {\n      var user = localStorage.getItem(\"user\");\n      var tokenJSON = JSON.parse(user);\n\n      if (user != null) {\n        if (user.includes(\"ROLE_USER\")) {\n          window.location.href = \"/main\";\n        }\n      }\n\n      var _redirectWithToken = function _redirectWithToken(token) {\n        if (token !== undefined) {\n          localStorage.setItem(\"user\", JSON.stringify(token));\n          window.location.href = \"/main\";\n        }\n      };\n    }\n  },\n  computed: {\n    passwordType: function passwordType() {\n      return this.hidePassword ? \"password\" : \"text\";\n    },\n    passwordIcon: function passwordIcon() {\n      return this.hidePassword ? \"fa-eye\" : \"fa-eye-slash\";\n    }\n  },\n  methods: {\n    doLogin: function doLogin() {\n      if (typeof window !== 'undefined') {\n        sendLoginRequest(\"\".concat(username.value), \"\".concat(password.value));\n      }\n    },\n    checkIfLogged: function checkIfLogged() {\n      console.log(\"jsontoken \", data.user);\n    }\n  }\n};\n\nvar redirectWithToken = function redirectWithToken(token) {\n  if (typeof window !== 'undefined') {\n    if (token !== undefined) {\n      localStorage.setItem(\"user\", JSON.stringify(token));\n      window.location.href = \"/main\";\n    }\n  }\n};\n\nfunction sendLoginRequest(u, p) {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  var raw = JSON.stringify({\n    username: u,\n    password: p\n  });\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n  fetch(\"https://kubb.in:8080/api/auth/signin\", requestOptions).then(function (response) {\n    return response.json();\n  }).then(function (result) {\n    return result.error ? console.log(\"wrong password todo\") : redirectWithToken(result);\n  })[\"catch\"](function (error) {\n    return console.log(\"error\", error);\n  });\n}",{"version":3,"sources":["/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/pages/Login.vue"],"names":["metaInfo","title","data","username","password","hidePassword","jsonRequest","mounted","window","user","localStorage","getItem","tokenJSON","JSON","parse","includes","location","href","redirectWithToken","token","undefined","setItem","stringify","computed","passwordType","passwordIcon","methods","doLogin","sendLoginRequest","value","checkIfLogged","console","log","u","p","myHeaders","Headers","append","raw","requestOptions","method","headers","body","redirect","fetch","then","response","json","result","error"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  metaInfo: {\n    title: \"Login Page\",\n  },\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      hidePassword: true,\n      jsonRequest: {},\n\n    };\n  },\n  mounted() {\nif (typeof window !== `undefined`) {\n  const user = localStorage.getItem(\"user\");\n  const tokenJSON = JSON.parse(user);\n      if (user != null) {\n      if (user.includes(\"ROLE_USER\")) {\n        window.location.href = \"/main\";\n      }\n    }\n  const redirectWithToken = (token) =>{\n  if (token !== undefined) {\n    localStorage.setItem(\"user\", JSON.stringify(token));\n    window.location.href = \"/main\";\n  }\n}\n\n\n\n}\n  },\n  computed: {\n    passwordType() {\n      return this.hidePassword ? \"password\" : \"text\";\n    },\n    passwordIcon() {\n      return this.hidePassword ? \"fa-eye\" : \"fa-eye-slash\";\n    },\n  },\n  methods: {\n    doLogin() {\n      if(typeof window !== 'undefined'){\n        sendLoginRequest(`${username.value}`, `${password.value}`);\n      }\n    },\n    checkIfLogged() {\n      console.log(\"jsontoken \", data.user);\n    },\n  },\n};\nconst redirectWithToken = (token) =>{\n  if(typeof window !== 'undefined'){\n      if (token !== undefined) {\n    localStorage.setItem(\"user\", JSON.stringify(token));\n    window.location.href = \"/main\";\n  }\n  }\n}\nfunction sendLoginRequest(u, p) {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  var raw = JSON.stringify({ username: u, password: p });\n\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\",\n  };\n\n  fetch(\"https://kubb.in:8080/api/auth/signin\", requestOptions)\n    .then((response) => response.json())\n    .then((result) =>\n      result.error\n        ? console.log(\"wrong password todo\")\n        : redirectWithToken(result)\n    )\n    .catch((error) => console.log(\"error\", error));\n}\n"]}]}