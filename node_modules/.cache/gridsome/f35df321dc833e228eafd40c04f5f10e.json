{"remainingRequest":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js??ref--1-1!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/pages/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/pages/Register.vue","mtime":1613741448274},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  metaInfo: {\n    title: \"Register with us\"\n  },\n  mounted: function mounted() {\n    if (typeof window !== \"undefined\") {\n      window.$ = require(\"jquery\");\n    }\n  },\n  data: function data() {\n    return {\n      passwordType: 'password',\n      username: \"\",\n      password: \"\",\n      email: \"\",\n      cpassword: \"\",\n      passwordIcon: 'eye'\n    };\n  },\n  methods: {\n    hidePassword: function hidePassword() {\n      this.passwordType == 'text' ? this.passwordType = 'password' : this.passwordType = 'text';\n      this.passwordIcon == 'eye' ? this.passwordIcon = 'eye-slash' : this.passwordIcon = 'eye';\n    },\n    doRegister: function doRegister() {\n      doRegistration(\"\".concat(username.value), \"\".concat(email.value), \"\".concat(password.value), \"\".concat(cpassword.value));\n    }\n  }\n};\n\nfunction doRegistration(username, email, password, cpassword) {\n  var e = validateEmail(\"emailErr\", email);\n  var u = validateUsername(\"usernameErr\", username);\n  var p = validatePassword(\"passwordErr\", password, \"cpasswordErr\", cpassword);\n\n  if (e == true && u == true && p == true) {\n    sendCallToAPI(username, email, password);\n  }\n}\n\nvar sendCallToAPI = function sendCallToAPI(user, mail, pwd) {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  var raw = JSON.stringify({\n    username: user,\n    email: mail,\n    password: pwd,\n    roles: [\"user\"]\n  });\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n  fetch(\"https://kubb.in:8080/api/auth/signup\", requestOptions).then(function (response) {\n    return response.text();\n  }).then(function (result) {\n    return window.location.href = \"/login\";\n  })[\"catch\"](function (error) {\n    return console.log(\"error\", error);\n  });\n};\n\nvar validateEmail = function validateEmail(dh, email) {\n  var invalidEmail = \"Invalid email adress. Please try again\";\n  var displayHandler = document.getElementById(dh);\n  var emailFormat = /\\S+@\\S+\\.\\S+/;\n  var emailString = email;\n\n  if (!emailFormat.test(emailString)) {\n    displayHandler.innerHTML = invalidEmail;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    return false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    return true;\n  }\n};\n\nvar validateUsername = function validateUsername(dh, username) {\n  var invalidUsername = \"Invalid Username. It must have minimum 4 characters. Please try again\";\n  var displayHandler = document.getElementById(dh);\n  var usernameFormat = /[a-zA-Z]{4,}/;\n  var usernameString = username;\n\n  if (!usernameFormat.test(usernameString)) {\n    displayHandler.innerHTML = invalidUsername;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    return false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    return true;\n  }\n};\n\nvar validatePassword = function validatePassword(dh, password, dh2, cpassword) {\n  var invalidPassword = \"Invalid Password. It must have minimum 8 characters. And it must contain letters and numbers. Please try again\";\n  var notMatchingPasswords = \"Passwords don't match\";\n  var displayHandler = document.getElementById(dh);\n  var displayHandler2 = document.getElementById(dh2);\n  var passwordFormat = /(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}/;\n  var atleastOneNumber = /\\d+/;\n  var passwordString = password;\n  var cpasswordString = cpassword;\n  var passwordsMatch = false;\n  var passwordFormatIsOk = false;\n\n  if (!passwordFormat.test(passwordString)) {\n    displayHandler.innerHTML = invalidPassword;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    passwordFormatIsOk = false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    passwordFormatIsOk = true;\n  }\n\n  if (passwordString !== cpasswordString) {\n    displayHandler2.innerHTML = notMatchingPasswords;\n    displayHandler2.style.display = \"block\";\n    displayHandler.focus();\n    passwordsMatch = false;\n  } else {\n    displayHandler2.innerHTML = \"\";\n    displayHandler2.style.display = \"none\";\n    passwordsMatch = true;\n  }\n\n  if (passwordFormatIsOk && passwordsMatch) {\n    return true;\n  } else {\n    return false;\n  }\n};",null]}