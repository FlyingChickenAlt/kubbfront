{"remainingRequest":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js??ref--1-1!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/pages/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/src/pages/Register.vue","mtime":1613741448274},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/plpetkov/Development/kubb.in/kubb.in-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  metaInfo: {\n    title: \"Register with us\"\n  },\n  mounted: function mounted() {\n    if (typeof window !== \"undefined\") {\n      window.$ = require(\"jquery\");\n    }\n  },\n  data: function data() {\n    return {\n      passwordType: 'password',\n      username: \"\",\n      password: \"\",\n      email: \"\",\n      cpassword: \"\",\n      passwordIcon: 'eye'\n    };\n  },\n  methods: {\n    hidePassword: function hidePassword() {\n      this.passwordType == 'text' ? this.passwordType = 'password' : this.passwordType = 'text';\n      this.passwordIcon == 'eye' ? this.passwordIcon = 'eye-slash' : this.passwordIcon = 'eye';\n    },\n    doRegister: function doRegister() {\n      doRegistration(\"\".concat(username.value), \"\".concat(email.value), \"\".concat(password.value), \"\".concat(cpassword.value));\n    }\n  }\n};\n\nfunction doRegistration(username, email, password, cpassword) {\n  var e = validateEmail(\"emailErr\", email);\n  var u = validateUsername(\"usernameErr\", username);\n  var p = validatePassword(\"passwordErr\", password, \"cpasswordErr\", cpassword);\n\n  if (e == true && u == true && p == true) {\n    sendCallToAPI(username, email, password);\n  }\n}\n\nvar sendCallToAPI = function sendCallToAPI(user, mail, pwd) {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  var raw = JSON.stringify({\n    username: user,\n    email: mail,\n    password: pwd,\n    roles: [\"user\"]\n  });\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\"\n  };\n  fetch(\"https://kubb.in:8080/api/auth/signup\", requestOptions).then(function (response) {\n    return response.text();\n  }).then(function (result) {\n    return window.location.href = \"/login\";\n  })[\"catch\"](function (error) {\n    return console.log(\"error\", error);\n  });\n};\n\nvar validateEmail = function validateEmail(dh, email) {\n  var invalidEmail = \"Invalid email adress. Please try again\";\n  var displayHandler = document.getElementById(dh);\n  var emailFormat = /\\S+@\\S+\\.\\S+/;\n  var emailString = email;\n\n  if (!emailFormat.test(emailString)) {\n    displayHandler.innerHTML = invalidEmail;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    return false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    return true;\n  }\n};\n\nvar validateUsername = function validateUsername(dh, username) {\n  var invalidUsername = \"Invalid Username. It must have minimum 4 characters. Please try again\";\n  var displayHandler = document.getElementById(dh);\n  var usernameFormat = /[a-zA-Z]{4,}/;\n  var usernameString = username;\n\n  if (!usernameFormat.test(usernameString)) {\n    displayHandler.innerHTML = invalidUsername;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    return false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    return true;\n  }\n};\n\nvar validatePassword = function validatePassword(dh, password, dh2, cpassword) {\n  var invalidPassword = \"Invalid Password. It must have minimum 8 characters. And it must contain letters and numbers. Please try again\";\n  var notMatchingPasswords = \"Passwords don't match\";\n  var displayHandler = document.getElementById(dh);\n  var displayHandler2 = document.getElementById(dh2);\n  var passwordFormat = /(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}/;\n  var atleastOneNumber = /\\d+/;\n  var passwordString = password;\n  var cpasswordString = cpassword;\n  var passwordsMatch = false;\n  var passwordFormatIsOk = false;\n\n  if (!passwordFormat.test(passwordString)) {\n    displayHandler.innerHTML = invalidPassword;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    passwordFormatIsOk = false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    passwordFormatIsOk = true;\n  }\n\n  if (passwordString !== cpasswordString) {\n    displayHandler2.innerHTML = notMatchingPasswords;\n    displayHandler2.style.display = \"block\";\n    displayHandler.focus();\n    passwordsMatch = false;\n  } else {\n    displayHandler2.innerHTML = \"\";\n    displayHandler2.style.display = \"none\";\n    passwordsMatch = true;\n  }\n\n  if (passwordFormatIsOk && passwordsMatch) {\n    return true;\n  } else {\n    return false;\n  }\n};",{"version":3,"sources":["Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<ClientOnly>\n  <div>\n    <link\n      rel=\"stylesheet\"\n      href=\"https://fonts.googleapis.com/css?family=Nunito\"\n    />\n    <link rel=\"stylesheet\" href=\"login.css\" />\n    <div id=\"login\">\n      <div id=\"description\">\n        <h1>Kubb.in</h1>\n        <p>\n          By registering, you are willing to save time and be more organized as\n          you will have complete control over your micro transactions that come\n          from subscriptions and renewals\n        </p>\n        <p>\n          <a href=\"/login\">To the login page</a>\n        </p>\n      </div>\n      <div id=\"form\">\n        <form @submit.prevent=\"doRegister\">\n          <p class=\"error\" id=\"usernameErr\">error</p>\n          <label for=\"username\">Username</label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            v-model=\"username\"\n            placeholder=\"username\"\n            autocomplete=\"off\"\n          />\n          <p class=\"error\" id=\"emailErr\">error</p>\n\n          <label for=\"email\">Email</label>\n          <input\n            type=\"text\"\n            id=\"email\"\n            v-model=\"email\"\n            placeholder=\"email@domain.com\"\n            autocomplete=\"off\"\n          />\n          <p class=\"error\" id=\"passwordErr\">error</p>\n\n          <label for=\"password\">Password</label>\n           <font-awesome-icon\n             :icon='passwordIcon'\n            @click=\"hidePassword()\"\n          ></font-awesome-icon>\n          <input\n            :type=\"passwordType\"\n            id=\"password\"\n            v-model=\"password\"\n            placeholder=\"**********\"\n          />\n          <p class=\"error\" id=\"cpasswordErr\">error</p>\n          <label for=\"cpassword\">Confirm Password</label>\n          <font-awesome-icon\n            :icon='passwordIcon'\n            @click=\"hidePassword()\"\n          ></font-awesome-icon>\n          <input\n            :type=\"passwordType\"\n            id=\"cpassword\"\n            v-model=\"cpassword\"\n            placeholder=\"**********\"\n          />\n\n          <button type=\"submit\">Register</button>\n        </form>\n      </div>\n    </div>\n  </div>\n  </ClientOnly>\n</template>\n\n<script>\nexport default {\n  metaInfo: {\n    title: \"Register with us\",\n  },\n  mounted() {\n    if (typeof window !== `undefined`) {\n    window.$ = require(\"jquery\");\n    }\n  },\n  data() {\n    return {\n      passwordType:'password',\n      username: \"\",\n      password: \"\",\n      email: \"\",\n      cpassword: \"\",\n      passwordIcon:'eye'\n    };\n  },\n  methods: {\n    hidePassword(){\n      this.passwordType == 'text' ? this.passwordType = 'password'  : this.passwordType = 'text'\n      this.passwordIcon == 'eye' ? this.passwordIcon = 'eye-slash' : this.passwordIcon = 'eye'\n      },\n    doRegister() {\n      doRegistration(\n        `${username.value}`,\n        `${email.value}`,\n        `${password.value}`,\n        `${cpassword.value}`\n      );\n    },\n  },\n};\n\nfunction doRegistration(username, email, password, cpassword) {\n  let e = validateEmail(\"emailErr\", email);\n  let u = validateUsername(\"usernameErr\", username);\n  let p = validatePassword(\"passwordErr\", password, \"cpasswordErr\", cpassword);\n  if (e == true && u == true && p == true) {\n    sendCallToAPI(username, email, password);\n  }\n}\n\nconst sendCallToAPI = (user, mail, pwd) => {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  var raw = JSON.stringify({\n    username: user,\n    email: mail,\n    password: pwd,\n    roles: [\"user\"],\n  });\n\n  var requestOptions = {\n    method: \"POST\",\n    headers: myHeaders,\n    body: raw,\n    redirect: \"follow\",\n  };\n\n  fetch(\"https://kubb.in:8080/api/auth/signup\", requestOptions)\n    .then((response) => response.text())\n    .then((result) => (window.location.href = \"/login\"))\n    .catch((error) => console.log(\"error\", error));\n};\n\nconst validateEmail = (dh, email) => {\n  const invalidEmail = \"Invalid email adress. Please try again\";\n  let displayHandler = document.getElementById(dh);\n  let emailFormat = /\\S+@\\S+\\.\\S+/;\n  let emailString = email;\n\n  if (!emailFormat.test(emailString)) {\n    displayHandler.innerHTML = invalidEmail;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    return false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    return true;\n  }\n};\n\nconst validateUsername = (dh, username) => {\n  const invalidUsername =\n    \"Invalid Username. It must have minimum 4 characters. Please try again\";\n  let displayHandler = document.getElementById(dh);\n  let usernameFormat = /[a-zA-Z]{4,}/;\n  let usernameString = username;\n\n  if (!usernameFormat.test(usernameString)) {\n    displayHandler.innerHTML = invalidUsername;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    return false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    return true;\n  }\n};\n\nconst validatePassword = (dh, password, dh2, cpassword) => {\n  const invalidPassword =\n    \"Invalid Password. It must have minimum 8 characters. And it must contain letters and numbers. Please try again\";\n  const notMatchingPasswords = \"Passwords don't match\";\n  let displayHandler = document.getElementById(dh);\n  let displayHandler2 = document.getElementById(dh2);\n  let passwordFormat = /(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}/;\n  let atleastOneNumber = /\\d+/;\n\n  let passwordString = password;\n  let cpasswordString = cpassword;\n  let passwordsMatch = false;\n  let passwordFormatIsOk = false;\n\n  if (!passwordFormat.test(passwordString)) {\n    displayHandler.innerHTML = invalidPassword;\n    displayHandler.style.display = \"block\";\n    displayHandler.focus();\n    passwordFormatIsOk = false;\n  } else {\n    displayHandler.innerHTML = \"\";\n    displayHandler.style.display = \"none\";\n    passwordFormatIsOk = true;\n  }\n\n  if (passwordString !== cpasswordString) {\n    displayHandler2.innerHTML = notMatchingPasswords;\n    displayHandler2.style.display = \"block\";\n    displayHandler.focus();\n    passwordsMatch = false;\n  } else {\n    displayHandler2.innerHTML = \"\";\n    displayHandler2.style.display = \"none\";\n    passwordsMatch = true;\n  }\n\n  if (passwordFormatIsOk && passwordsMatch) {\n    return true;\n  } else {\n    return false;\n  }\n};\n</script>\n"],"sourceRoot":"src/pages"}]}